<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
      <!-- Global site tag (gtag.js) - Google Analytics -->
	  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-130556148-1"></script>
	  <script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());
		
		  gtag('config', 'UA-130556148-1');
	  </script>
      
      <div th:replace="~{fragments/header :: header-css}"/>
      
	  <script type="text/javascript" src="https://api.mapy.cz/loader.js"></script>
	  <script type="text/javascript">Loader.load()</script> <!-- loads mapy.cz API	 -->
	   
</head>

<body>
<div th:insert="~{fragments/header :: header}"/>
	
	<div class="w3-light-grey w3-margin-bottom w3-center">
		<h2 th:text="#{site.show-all-map}" class="w3-container">All coffee sites</h2>
	</div>
	
	    <div class="w3-row"> <!-- Main container for complete page layout  -->

        <div class="w3-half w3-container"> <!-- Element to insert script for map -->
            <!-- Element to show map - class="w3-display-topright" -->
            <div id="map" class="w3-round w3-card-4" style="height: 600px; width: 100%;"></div> <!-- "height: 600px; width: 800px;" -->
        </div>

        <div class="w3-half w3-container">

            <!--		Small version of site detail table to show data about site selected on map -->
            <table class="w3-table w3-bordered w3-margin-right" style="border:2px solid brown;">
                <tr>
                    <td th:text="#{site.siteName}" class="w3-brown"></td>
                    <td class="w3-right-align w3-brown w3-text-amber" style="font-weight: bold" id="siteName"></td>
                </tr>

                <tr>
                    <td th:text="#{site.type}"></td>
                    <td class="w3-right-align w3-sand" id="coffeeSiteType" style="font-weight: bold"></td>
                </tr>

                <tr>
                    <td th:text="#{site.locationtype}"></td>
                    <td class="w3-right-align w3-sand" id="locationType" style="font-weight: bold"></td>
                </tr>

                <tr>
                    <td th:text="#{site.pricerange}"></td>
                    <td class="w3-right-align w3-sand" id="priceRange" style="font-weight: bold"></td>
                </tr>

                <tr>
                    <td th:text="#{site.openingDaysHours}"></td>
                    <td class="w3-right-align w3-sand" id="pristupnostDnyHod" style="font-weight: bold"></td>
                </tr>

                <tr>
                    <td th:text="#{site.city}"></td>
                    <td class="w3-right-align w3-sand" id="mesto" style="font-weight: bold"></td>
                </tr>

                <tr>
                    <td th:text="#{site.street}"></td>
                    <td class="w3-right-align w3-sand" id="uliceCP" style="font-weight: bold"></td>
                </tr>

                <tr>
                    <td th:text="#{site.stars}"></td>
                    <td class="w3-right-align w3-sand">
                        <span id="avgStars" style="font-weight: bold"></span>
                    </td>
                </tr>
            </table>

            <div style="width:60%" class="w3-margin-top">
                <img id="siteImage" src="" alt="" class="w3-image w3-round"/>
            </div>

        </div>

    </div> <!-- <div class="w3-container w3-row"> -->

     <!-- Script to show map and markers of all CoffeeSites. Introduces all map related functions used later -->
     <script type="text/javascript" src="/js/all_sites_map_support.js"></script>
     
     <script th:inline="javascript">
	     map.create();
	     /*<![CDATA[*/
	     map.insertSites(/*[[${allSites}]]*/);
	     /*]]>*/
	     map.enable();
     </script>

</body>
</html>