<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
      <div th:replace="~{fragments/header :: header-css}"/>
</head>

<body>

	<!-- Main menu header -->
	<div th:insert="~{fragments/header :: header}"/>
	
		<!-- Nadpis -->
		<h2 th:text="#{forgotPassword.resetYourPassword.label}" class="w3-light-grey w3-margin-bottom w3-center">Reset password</h2><br>
		
 
 		<div class="w3-content">
 		
 			<div class="w3-row w3-margin-top ">
 
 				<div th:text="#{forgotPassword.resetYourPassword.messageforuser}"></div>
 			
 				<div class="w3-twothird w3-container w3-margin-top">
 			
			 		<form action="#"
			 			  th:object="${resetedPassword}"
			 		      th:action="@{'/user/saveNewPassword/?token=' + ${token}}"
			 		      th:method="POST">
			 		      
			 		    <!-- Password input -->   
					    <div>
					    	<label th:text="#{resetedPassword.user.password.label}">password</label>
					        <div class="w3-row">
						        <div class="w3-half">
						            <div th:classappend="${#fields.hasErrors('newPassword')} ? 'has-error' : ''">
							        <input id="password"
							               name="newPassword"
							               type="password"
							               th:value="*{newPassword}"
							               class="w3-input w3-border w3-round" />
							        </div>
							    </div>
							    <div class="w3-rest">
							        <div class="error-message w3-margin-left"
				                         th:each="error : ${#fields.errors('newPassword')}"
				                         th:text="${error}">Validation error</div>
			                    </div>
			               </div>
				 		</div>
				 		
				 		<!-- Confirmation password input -->
				 		<div>
					        <label th:text="#{resetedPassword.user.confirmPassword.label}">confirm</label>
					        <div class="w3-row">
						        <div class="w3-half">
						            <div th:classappend="${#fields.hasErrors('confirmPassword')} ? 'has-error' : ''">
							        <input id="confirmPassword"
							        	   name="confirmPassword"
							               type="password"
							               th:value="*{confirmPassword}"
							               class="w3-input w3-border w3-round "/>
							        </div>
							    </div>
							    <div class="w3-rest">
							        <div class="error-message w3-margin-left"
				                       th:each="error : ${#fields.errors('confirmPassword')}"
				                       th:text="${error}">Validation error</div>
				                </div>
			               </div>
					    </div>     
					     
					    <!-- Passwd./confirmPassw matching error -->  
					    <p class="error-message"
                           th:if="${#fields.hasGlobalErrors()}"
                           th:each="error : ${#fields.errors('global')}"
                           th:text="${error}">Validation error</p>
					      
					      
					    <!-- Buttons row -->
					    <div class="w3-bar w3-margin-top"> 
					    	<!-- Submit button -->     
						    <input type="hidden" name="_method" value="POST"/>
				            <button type="submit" id="submitButton"
				                    th:text="#{resetPassword.form.saveNewPassword.button}"
				            	    class="w3-button w3-blue w3-border w3-round w3-bar-item" >X</button>
							<!-- Cancel Button -->
			          	    <a th:href="@{'/home'}" th:text="#{resetPassword.email.enter.cancel}" class="w3-button w3-bar-item w3-margin-left">Cancel entering email</a>
						</div>
				    </form>
		    </div>
	    </div>

	</body>
	
</html>